(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[372],{2922:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var i=a(8081),r=a(2149),s=a(5160),n=a(6810),l=a(6533),d=a(8945);function o(e){let{message:t,isVisible:a,onClose:r}=e;return(0,i.jsx)(l.N,{children:a&&(0,i.jsx)(d.P.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.5},className:"fixed inset-0 flex items-center justify-center z-50 pointer-events-none",children:(0,i.jsx)("div",{className:"bg-white/90 backdrop-blur-md border-2 border-green-500 rounded-xl p-6 shadow-lg min-w-[200px]",children:(0,i.jsx)("div",{className:"text-2xl font-bold text-center text-brand-primary-900",children:t})})})})}var c=a(18);let m=(0,a(1018).A)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);var p=a(5186);function g(e){return"".concat("/jogos-cristaos").concat(e)}function x(e){let{id:t,content:a,isFlipped:r,isMatched:s,onClick:n}=e;return(0,i.jsx)(d.P.div,{className:"relative aspect-square w-full cursor-pointer perspective-1000",onClick:()=>!r&&!s&&n(t),whileHover:{scale:1.05,rotate:1.5*(Math.random()>.5?1:-1),transition:{type:"spring",stiffness:300,damping:15}},whileTap:{scale:.98},transition:{duration:.3},style:{pointerEvents:s?"none":"auto",opacity:s?"0.8":"1"},children:(0,i.jsxs)(d.P.div,{className:"relative w-full h-full shadow-lg rounded-xl",initial:!1,animate:{rotateY:180*!!r},transition:{duration:.5,ease:[.23,1,.32,1]},style:{transformStyle:"preserve-3d"},children:[(0,i.jsx)("div",{className:"absolute w-full h-full rounded-xl overflow-hidden shadow-[0_4px_12px_rgba(0,0,0,0.1)] border-2 border-white/50",style:{backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden"},children:(0,i.jsx)(p.default,{src:g("/images/back-christ.png"),alt:"Verso da carta",fill:!0,style:{objectFit:"cover"},priority:!0,sizes:"(max-width: 640px) 120px, (max-width: 1024px) 160px, 200px",className:"transition-transform duration-200"})}),(0,i.jsx)("div",{className:"absolute w-full h-full rounded-xl overflow-hidden shadow-[0_4px_12px_rgba(0,0,0,0.1)] border-2 border-white/50",style:{transform:"rotateY(180deg)",backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden"},children:(0,i.jsx)(p.default,{src:g(a),alt:"Carta",fill:!0,style:{objectFit:"cover"},sizes:"(max-width: 640px) 120px, (max-width: 1024px) 160px, 200px",className:"transition-transform duration-200"})})]})})}var h=a(9651);function u(){let e=(0,h.useRouter)(),t=(0,h.useSearchParams)(),a=t.get("players")?JSON.parse(t.get("players")):["Jogador 1"],l=t.get("pairs")?Number.parseInt(t.get("pairs")):8,[g]=(0,r.useState)(a),[u]=(0,r.useState)(l),[f,b]=(0,r.useState)([]),[v,j]=(0,r.useState)([]),[y,w]=(0,r.useState)(0),[N,k]=(0,r.useState)(a.map(()=>0)),[M,C]=(0,r.useState)(!1),[S,z]=(0,r.useState)(!1),[_,F]=(0,r.useState)(""),[R,P]=(0,r.useState)(!1),[T,E]=(0,r.useState)(""),[V,O]=(0,r.useState)(!1),[$,B]=(0,r.useState)({min:140,max:160}),[A,W]=(0,r.useState)({x:20,y:20}),[D,J]=(0,r.useState)(!1),Z=(0,r.useCallback)(()=>{j([]),w(0),k(g.map(()=>0)),C(!1),O(!1);let e=q([...H]).slice(0,u);b(q(e.flatMap(e=>[{id:"".concat(e,"-").concat(Math.random()),content:e,isFlipped:!1,isMatched:!1},{id:"".concat(e,"-").concat(Math.random()),content:e,isFlipped:!1,isMatched:!1}])))},[u,g]);(0,r.useEffect)(()=>{Z()},[Z]),(0,r.useEffect)(()=>{if(2===v.length){C(!0);let[e,t]=v,a=f.find(t=>t.id===e),i=f.find(e=>e.id===t);(null==a?void 0:a.content)===(null==i?void 0:i.content)?setTimeout(()=>{b(a=>a.map(a=>a.id===e||a.id===t?{...a,isMatched:!0}:a)),k(e=>{let t=[...e];return t[y]++,t}),j([]),C(!1)},500):setTimeout(()=>{b(a=>a.map(a=>a.id===e||a.id===t?{...a,isFlipped:!1}:a)),j([]),C(!1),w(e=>(e+1)%g.length)},1e3)}},[v,f,y,g]);let q=e=>{let t=[...e];for(let e=t.length-1;e>0;e--){let a=Math.floor(Math.random()*(e+1));[t[e],t[a]]=[t[a],t[e]]}return t},H=["/images/img1-min.jpg","/images/img2-min.jpg","/images/img3-min.jpg","/images/img4-min.jpg","/images/img5-min.jpg","/images/img6-min.jpg","/images/img7-min.jpg","/images/img8-min.jpg","/images/img9-min.jpg","/images/img10-min.jpg","/images/img11-min.jpg","/images/img12-min.jpg","/images/img13-min.jpg","/images/img14-min.jpg","/images/img15-min.jpg","/images/img16-min.jpg","/images/img17-min.jpg","/images/img18-min.jpg","/images/img19-min.jpg","/images/img20-min.jpg","/images/img21-min.jpg","/images/img22-min.jpg","/images/img23-min.jpg","/images/img24-min.jpg","/images/img25-min.jpg"],Y=()=>{j([]),w(0),k(g.map(()=>0)),C(!1),O(!1);let e=q([...H]).slice(0,u);b(q(e.flatMap(e=>[{id:"".concat(e,"-").concat(Math.random()),content:e,isFlipped:!1,isMatched:!1},{id:"".concat(e,"-").concat(Math.random()),content:e,isFlipped:!1,isMatched:!1}])))};(0,r.useEffect)(()=>{Y()},[u]);let I=e=>{if(M)return;let t=f.find(t=>t.id===e);t&&!t.isFlipped&&!t.isMatched&&(b(f.map(t=>t.id===e?{...t,isFlipped:!0}:t)),j(t=>[...t,e]))};(0,r.useEffect)(()=>{if(2===v.length){C(!0);let[e,t]=v,a=f.find(t=>t.id===e),i=f.find(e=>e.id===t);if((null==a?void 0:a.content)===(null==i?void 0:i.content)){let a=f.map(a=>a.id===e||a.id===t?{...a,isMatched:!0}:a);b(a),k(e=>{let t=[...e];return t[y]+=1,t}),j([]),C(!1),a.every(a=>a.isMatched||a.id===e||a.id===t)||(F("\uD83C\uDF89 CORRETO! \uD83C\uDF89"),z(!0),setTimeout(()=>z(!1),1500))}else setTimeout(()=>{b(a=>a.map(a=>a.id===e||a.id===t?{...a,isFlipped:!1}:a)),j([]),C(!1),w(e=>(e+1)%g.length)},1e3)}},[v,f,y,g]);let L=f.length>0&&f.every(e=>e.isMatched);(0,r.useEffect)(()=>{f.length>0&&f.every(e=>e.isMatched)&&!V&&setTimeout(()=>{let e=g.map((e,t)=>X(t)),t=Math.max(...e);E(g[e.indexOf(t)]),P(!0),O(!0)},500)},[f,g,V]);let Q=()=>{P(!1),Z()},X=e=>Math.floor(f.filter(e=>e.isMatched).length/2);return(0,i.jsxs)("div",{className:"h-screen overflow-hidden flex flex-col bg-[url('/images/beack-bg.png')] bg-cover bg-center bg-fixed",children:[R&&(0,i.jsx)(()=>(0,i.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:(0,i.jsxs)(d.P.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.5,opacity:0},className:"relative bg-white rounded-xl shadow-2xl p-8 max-w-lg w-full m-4 text-center",children:[(0,i.jsx)("div",{className:"absolute -left-24 top-1/2 -translate-y-1/2",children:(0,i.jsx)(p.default,{src:"/images/confetti.png",alt:"Confetti left",width:120,height:120,className:"animate-float-left"})}),(0,i.jsx)("div",{className:"absolute -right-24 top-1/2 -translate-y-1/2",children:(0,i.jsx)(p.default,{src:"/images/confetti.png",alt:"Confetti right",width:120,height:120,className:"animate-float-right"})}),(0,i.jsx)("div",{className:"w-24 h-24 mx-auto mb-4",children:(0,i.jsx)(p.default,{src:"/images/trophy.png",alt:"Trof\xe9u",width:96,height:96,className:"w-full h-full object-contain"})}),(0,i.jsx)("h2",{className:"text-3xl font-bold text-brand-primary-900 mb-4",children:"Parab\xe9ns!"}),(0,i.jsxs)("p",{className:"text-xl text-brand-text-medium mb-6",children:["O vencedor \xe9 ",(0,i.jsx)("span",{className:"font-bold text-brand-primary-700",children:T}),"!"]}),(0,i.jsxs)("div",{className:"flex gap-4 justify-center",children:[(0,i.jsx)(s.$,{onClick:Q,className:"bg-brand-primary-600 hover:bg-brand-primary-700 text-white",children:"Jogar Novamente"}),(0,i.jsx)(s.$,{onClick:()=>e.push("/memory-game"),variant:"outline",className:"border-brand-primary-100 text-brand-primary-700",children:"Menu Principal"})]})]})}),{}),(0,i.jsx)("div",{className:"bg-white/30 backdrop-blur-sm border-b border-brand-primary-100/30 py-4 shadow-md flex justify-center",children:(0,i.jsx)("h1",{className:"text-3xl font-semibold text-brand-primary-900/90 bg-white/20 px-4 py-2 rounded-2xl backdrop-blur-sm inline-block tracking-tight",children:"Jogo da Mem\xf3ria"})}),(0,i.jsx)(()=>{let[e,t]=(0,r.useState)(!1),[a]=(0,r.useState)(200);return(0,i.jsx)(d.P.div,{drag:!0,dragMomentum:!1,initial:{x:A.x,y:A.y},animate:{x:A.x,y:A.y},onDragStart:()=>t(!0),onDragEnd:(e,a)=>{t(!1),W({x:A.x+a.offset.x,y:A.y+a.offset.y})},className:"fixed z-50 touch-none select-none",style:{cursor:e?"grabbing":"grab"},children:(0,i.jsxs)(n.Zp,{className:"bg-white/90 backdrop-blur-sm shadow-lg border-brand-primary-100 rounded-2xl overflow-hidden",style:{width:"".concat(a,"px"),height:D?"40px":"auto",transition:"height 0.3s ease"},children:[(0,i.jsxs)("div",{className:"h-10 w-full bg-brand-primary-100 cursor-grab active:cursor-grabbing flex justify-between items-center px-4",onClick:()=>J(!D),children:[(0,i.jsxs)("div",{className:"flex items-center gap-1.5 overflow-hidden",children:[(0,i.jsx)(c.A,{className:"h-4 w-4 text-brand-primary-700 shrink-0"}),(0,i.jsx)("span",{className:"text-base font-medium text-brand-primary-800 truncate",children:"Placar"})]}),(0,i.jsx)("button",{className:"w-6 h-6 flex items-center justify-center rounded-full hover:bg-brand-primary-200/50 transition-colors shrink-0",onClick:e=>{e.stopPropagation(),J(!D)},children:(0,i.jsx)("svg",{className:"w-4 h-4 transition-transform ".concat(D?"":"rotate-180"),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,i.jsx)("path",{d:"M18 15l-6-6-6 6"})})})]}),(0,i.jsx)("div",{className:"transition-all duration-300 ".concat(D?"h-0 opacity-0 pointer-events-none":"opacity-100"," overflow-hidden"),children:(0,i.jsx)(n.Wu,{className:"p-4",children:(0,i.jsx)("div",{className:"space-y-2",children:g.map((e,t)=>{let a=X(t);return(0,i.jsxs)("div",{className:"flex justify-between items-center p-2 rounded-lg transition-colors ".concat(t===y?"bg-brand-primary-100 text-brand-primary-800 font-medium":"text-brand-text-medium hover:bg-brand-primary-50"),children:[(0,i.jsx)("span",{className:"font-medium truncate mr-2",children:e}),(0,i.jsxs)("span",{className:"font-bold whitespace-nowrap",children:[a," ",1===a?"par":"pares"]})]},t)})})})})]})})},{}),(0,i.jsx)("div",{className:"flex-1 relative",children:(0,i.jsx)("div",{className:"absolute inset-0 overflow-y-auto z-0",children:(0,i.jsxs)("div",{className:"w-full max-w-7xl mx-auto px-4 pt-4 pb-32",children:[(0,i.jsxs)("div",{className:"fixed bottom-20 right-6 flex flex-col gap-2 z-20",children:[(0,i.jsx)(s.$,{onClick:()=>B(e=>({min:Math.min(e.min+10,300),max:Math.min(e.max+10,320)})),variant:"outline",size:"sm",className:"rounded-full w-8 h-8 p-0 bg-white/90 backdrop-blur-sm shadow-lg hover:bg-brand-primary-50",children:"+"}),(0,i.jsx)(s.$,{onClick:()=>B(e=>({min:Math.max(e.min-10,60),max:Math.max(e.max-10,80)})),variant:"outline",size:"sm",className:"rounded-full w-8 h-8 p-0 bg-white/90 backdrop-blur-sm shadow-lg hover:bg-brand-primary-50",children:"-"})]}),(0,i.jsx)("div",{className:"grid gap-4 w-full auto-rows-fr",style:{gridTemplateColumns:"repeat(auto-fill, minmax(".concat($.min,"px, ").concat($.max,"px))"),gridAutoRows:"1fr",justifyContent:"center"},children:f.map(e=>(0,i.jsx)(x,{id:e.id,content:e.content,isFlipped:e.isFlipped||v.includes(e.id),isMatched:e.isMatched,onClick:I},e.id))})]})})}),(0,i.jsx)("div",{className:"relative z-10 w-full bg-white/30 backdrop-blur-sm border-t border-brand-primary-100/30 py-3 px-4 shadow-md",children:(0,i.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,i.jsxs)("div",{className:"grid grid-cols-3 items-center gap-4",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3 justify-start",children:[(0,i.jsx)(s.$,{onClick:()=>e.push("/memory-game"),variant:"outline",className:"border-brand-accent-100/30 text-white hover:text-white hover:bg-brand-accent-50/30 bg-transparent rounded-full",size:"sm",children:"Voltar"}),(0,i.jsxs)(s.$,{onClick:()=>{C(!0),setTimeout(()=>{Z()},300)},className:"bg-gradient-to-r from-brand-primary-600 to-brand-primary-700 hover:from-brand-primary-700 hover:to-brand-primary-800 text-white shadow-md rounded-full",size:"sm",children:[(0,i.jsx)(m,{className:"mr-2 h-4 w-4"}),"Reiniciar"]})]}),(0,i.jsx)("div",{className:"flex justify-center items-center",children:(0,i.jsxs)("div",{className:"flex items-center gap-3 text-brand-primary-800/90 px-6 py-2 rounded-full bg-white/20 backdrop-blur-sm",children:[(0,i.jsx)(c.A,{className:"h-6 w-6 text-brand-primary-600"}),(0,i.jsxs)("span",{className:"text-xl font-bold whitespace-nowrap",children:["Vez de ",g[y]]})]})}),(0,i.jsx)("div",{})]}),L&&(0,i.jsxs)(d.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-4 text-center text-lg font-semibold text-brand-primary-700",children:[g[N.indexOf(Math.max(...N))]," venceu o jogo!"]})]})}),(0,i.jsx)(o,{message:_,isVisible:S,onClose:()=>z(!1)})]})}},5160:(e,t,a)=>{"use strict";a.d(t,{$:()=>o});var i=a(8081),r=a(2149),s=a(9907),n=a(3484),l=a(7687);let d=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=r.forwardRef((e,t)=>{let{className:a,variant:r,size:n,asChild:o=!1,...c}=e,m=o?s.DX:"button";return(0,i.jsx)(m,{className:(0,l.cn)(d({variant:r,size:n,className:a})),ref:t,...c})});o.displayName="Button"},5218:(e,t,a)=>{Promise.resolve().then(a.bind(a,2922))},6810:(e,t,a)=>{"use strict";a.d(t,{BT:()=>o,Wu:()=>c,ZB:()=>d,Zp:()=>n,aR:()=>l});var i=a(8081),r=a(2149),s=a(7687);let n=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,i.jsx)("div",{ref:t,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});n.displayName="Card";let l=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,i.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",a),...r})});l.displayName="CardHeader";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,i.jsx)("div",{ref:t,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});d.displayName="CardTitle";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,i.jsx)("div",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",a),...r})});o.displayName="CardDescription";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,i.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",a),...r})});c.displayName="CardContent",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,i.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",a),...r})}).displayName="CardFooter"},7687:(e,t,a)=>{"use strict";a.d(t,{cn:()=>s});var i=a(6522),r=a(4483);function s(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,i.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[741,258,186,497,954,358],()=>t(5218)),_N_E=e.O()}]);